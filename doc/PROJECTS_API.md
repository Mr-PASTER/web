# üì° –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã –ø–æ–ª—É—á–µ–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤

–î–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–ª—É—á–µ–Ω–∏—è, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –ø—Ä–æ–µ–∫—Ç–∞—Ö –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ProjectsPage   ‚îÇ  ‚Üê UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (React)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   api.ts        ‚îÇ  ‚Üê API —Å–µ—Ä–≤–∏—Å (TypeScript)
‚îÇ  getProjects()  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Vite Proxy     ‚îÇ  ‚Üê –ü—Ä–æ–∫—Å–∏ –≤ dev —Ä–µ–∂–∏–º–µ (/api ‚Üí https://backend-web-7mkm.onrender.com)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Backend API                           ‚îÇ  ‚Üê —Å–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä—ã—á–∞–≥–∞–º–∏
‚îÇ  https://backend-web-7mkm.onrender.com ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

1. **–ò–Ω–∏—Ü–∏–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞** ‚Üí `ProjectsPage` –≤—ã–∑—ã–≤–∞–µ—Ç `getProjects()`
2. **–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ URL** ‚Üí –î–æ–±–∞–≤–ª–µ–Ω–∏–µ query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ trailing slash
3. **HTTP –∑–∞–ø—Ä–æ—Å** ‚Üí –ß–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏ (dev) –∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é (production)
4. **–ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞** ‚Üí JSON –¥–∞–Ω–Ω—ã–µ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
5. **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è** ‚Üí –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç `Project[]`
6. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ** ‚Üí –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≤ grid-–ø–∞–Ω–µ–ª–∏ —á–µ—Ä–µ–∑ `ProjectCard`

---

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞

**–§–∞–π–ª:** `src/pages/ProjectsPage.tsx`

```typescript
const loadProjects = useCallback(async () => {
  setLoading(true);
  setError(null);
  
  const response = await getProjects({
    search: searchQuery || undefined,
    technology: selectedTechnology || undefined,
    limit: REQUEST_LIMIT,
  });
  
  setProjects(response.projects);
  setMeta({ total: response.total, page: response.page, limit: response.limit });
}, [searchQuery, selectedTechnology]);
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `useCallback` –¥–ª—è –º–µ–º–æ–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏
- Debounce 300ms –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

### 2. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ URL

**–§–∞–π–ª:** `src/services/api.ts`

```typescript
export async function getProjects(params?: ProjectsQueryParams): Promise<ProjectsResponse> {
  const queryParams = new URLSearchParams();
  
  if (params?.page) queryParams.append('page', params.page.toString());
  if (params?.limit) queryParams.append('limit', params.limit.toString());
  if (params?.technology) queryParams.append('technology', params.technology);
  if (params?.search) queryParams.append('search', params.search);
  
  const queryString = queryParams.toString();
  const url = `${API_BASE_URL}/projects/${queryString ? `?${queryString}` : ''}`;
}
```

**–í–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏:**
- **Trailing slash –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω** (`/projects/`) –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ trailing slash
- `API_BASE_URL` –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–∂–∏–º–∞:
  - **Dev:** `/api` (—á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏)
- **Production:** `https://backend-web-7mkm.onrender.com` –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `VITE_API_BASE_URL`

### 3. HTTP –∑–∞–ø—Ä–æ—Å

```typescript
const response = await fetch(url, {
  method: 'GET',
  mode: 'cors',
  credentials: 'omit',
  // Content-Type –Ω–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è GET, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å preflight
});
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ CORS:**
- `mode: 'cors'` - —è–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ CORS —Ä–µ–∂–∏–º–∞
- `credentials: 'omit'` - –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å cookies
- –ë–µ–∑ `Content-Type` –∑–∞–≥–æ–ª–æ–≤–∫–∞ - GET –∑–∞–ø—Ä–æ—Å—ã –Ω–µ —Ç—Ä–µ–±—É—é—Ç preflight

---

## üîß –ü—Ä–æ–∫—Å–∏-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (Dev —Ä–µ–∂–∏–º)

**–§–∞–π–ª:** `vite.config.ts`

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ü—Ä–æ–∫—Å–∏ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É CORS –≤ development —Ä–µ–∂–∏–º–µ, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—è –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ Vite dev server.

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```typescript
proxy: {
  '/api': {
    target: 'https://backend-web-7mkm.onrender.com',
    changeOrigin: true,
    secure: false,
    rewrite: (path) => {
      let newPath = path.replace(/^\/api/, '');
      // –î–æ–±–∞–≤–ª—è–µ–º trailing slash –¥–ª—è /projects
      if (newPath === '/projects') return '/projects/';
      if (newPath.startsWith('/projects?')) {
        return newPath.replace('/projects?', '/projects/?');
      }
      return newPath;
    },
    configure: (proxy) => {
      // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ - –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ–º location header
      proxy.on('proxyRes', (proxyRes) => {
        if ([301, 302, 307, 308].includes(proxyRes.statusCode)) {
          const location = proxyRes.headers.location;
          if (location?.startsWith('/')) {
            proxyRes.headers.location = `/api${location}`;
          }
        }
      });
    },
  },
}
```

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ó–∞–ø—Ä–æ—Å: `http://localhost:3000/api/projects/?limit=50`
2. –ü—Ä–æ–∫—Å–∏ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ—Ç: `https://backend-web-7mkm.onrender.com/projects/?limit=50`
3. –û—Ç–≤–µ—Ç –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ –∫–ª–∏–µ–Ω—Ç—É
4. CORS –æ—à–∏–±–∫–∏ –Ω–µ –≤–æ–∑–Ω–∏–∫–∞—é—Ç, —Ç.–∫. –∑–∞–ø—Ä–æ—Å –∏–¥–µ—Ç —Å —Ç–æ–≥–æ –∂–µ origin

---

## üìä –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### –ó–∞—á–µ–º –Ω—É–∂–Ω–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è?

Backend API –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö:
- –†–∞–∑–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –ø–æ–ª–µ–π (`title` vs `name` vs `project_title`)
- –†–∞–∑–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤ (–º–∞—Å—Å–∏–≤ vs –æ–±—ä–µ–∫—Ç —Å `projects`/`results`/`data`)
- –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º
- –†–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π (–º–∞—Å—Å–∏–≤ vs —Å—Ç—Ä–æ–∫–∞)

### –ü—Ä–æ—Ü–µ—Å—Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

#### –®–∞–≥ 1: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ API

**–§—É–Ω–∫—Ü–∏—è:** `normalizeProjectsResponse()`

```typescript
function normalizeProjectsResponse(data: unknown, params?: ProjectsQueryParams): ProjectsResponse {
  // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞:
  
  // 1. –ü—Ä—è–º–æ–π –º–∞—Å—Å–∏–≤
  if (Array.isArray(data)) {
    return { projects: data.map(normalizeProject), total: data.length, ... };
  }
  
  // 2. –û–±—ä–µ–∫—Ç —Å –ø–æ–ª–µ–º projects
  if (record.projects) { ... }
  
  // 3. –û–±—ä–µ–∫—Ç —Å –ø–æ–ª–µ–º results (Django REST Framework)
  if (record.results) { ... }
  
  // 4. –û–±—ä–µ–∫—Ç —Å –ø–æ–ª–µ–º data
  if (record.data) { ... }
}
```

#### –®–∞–≥ 2: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

**–§—É–Ω–∫—Ü–∏—è:** `normalizeProject()`

**–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º—ã–µ –ø–æ–ª—è:**

| –ü–æ–ª–µ –ø—Ä–æ–µ–∫—Ç–∞ | –í–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∞–∑–≤–∞–Ω–∏–π –≤ API |
|-------------|------------------------|
| `id` | `id`, `uuid`, `slug`, `pk`, `projectId` |
| `title` | `title`, `name`, `project_title` |
| `description` | `description`, `fullDescription`, `details` |
| `shortDescription` | `shortDescription`, `short_description`, `summary` |
| `previewImage` | `previewImage`, `preview_image`, `preview`, `cover`, `image`, `thumbnail` |
| `images` | `images`, `gallery`, `photos`, `media` |
| `technologies` | `technologies`, `tech_stack`, `stack`, `tags`, `tech` |
| `demoUrl` | `demoUrl`, `demo_url`, `demo`, `link`, `url` |

**–ü—Ä–∏–º–µ—Ä:**

```typescript
const project: Project = {
  id: stringOrUndefined(record.id ?? record.uuid ?? record.slug) ?? generateFallbackId(),
  title: stringOrUndefined(record.title ?? record.name) ?? '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è',
  description: stringOrUndefined(record.description) ?? '–û–ø–∏—Å–∞–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–∑–∂–µ.',
  previewImage: allImages[0] ?? DEFAULT_PROJECT_IMAGE,
  technologies: collectTechnologies(record.technologies ?? record.tech_stack),
  // ... –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
};
```

#### –®–∞–≥ 3: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–§—É–Ω–∫—Ü–∏—è:** `collectImages()`

```typescript
function collectImages(source: unknown): string[] {
  // –ü–æ–¥–¥–µ—Ä–∂–∫–∞:
  // - –ú–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫
  // - –ú–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ —Å –ø–æ–ª—è–º–∏: url, image, src, path
  // - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π
}
```

**–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ URL:**

```typescript
function resolveAssetUrl(value: string | undefined): string | undefined {
  if (!value) return undefined;
  
  // –ê–±—Å–æ–ª—é—Ç–Ω—ã–π URL (http/https) - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–∞–∫ –µ—Å—Ç—å
  if (/^(https?:)?\/\//i.test(value)) return value;
  
  // –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å - –¥–æ–±–∞–≤–ª—è–µ–º API_BASE_URL
  if (value.startsWith('/')) return `${API_BASE_URL}${value}`;
  return `${API_BASE_URL}/${value}`;
}
```

#### –®–∞–≥ 4: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

**–§—É–Ω–∫—Ü–∏—è:** `collectTechnologies()`

```typescript
function collectTechnologies(source: unknown): string[] {
  // –ü–æ–¥–¥–µ—Ä–∂–∫–∞:
  // - –°—Ç—Ä–æ–∫–∞ —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏: "React, TypeScript, Node.js"
  // - –ú–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫: ["React", "TypeScript"]
  // - –ú–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤: [{ name: "React" }, { title: "TypeScript" }]
}
```

#### –®–∞–≥ 5: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–∑—ã–≤–æ–≤ –∫–ª–∏–µ–Ω—Ç–æ–≤

**–§—É–Ω–∫—Ü–∏—è:** `normalizeClientReview()`

```typescript
function normalizeClientReview(rawReview: unknown): Project['clientReview'] | undefined {
  // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤:
  // - name: name, author, client, customer
  // - text: text, comment, body, message
  // - rating: rating, score (—á–∏—Å–ª–æ –∏–ª–∏ —Å—Ç—Ä–æ–∫–∞)
}
```

---

## ‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏

1. **Retry –º–µ—Ö–∞–Ω–∏–∑–º** - –ø—Ä–∏ –æ—à–∏–±–∫–µ CORS –ø—Ä–æ–±—É–µ—Ç—Å—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π URL
2. **Fallback –∑–Ω–∞—á–µ–Ω–∏—è** - –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –ø—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–º–µ—Å—Ç–æ –æ—à–∏–±–∫–∏
3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤—Å–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

```typescript
try {
  const response = await fetch(url, { ... });
  
  if (!response.ok) {
    throw new Error(`HTTP error! status: ${response.status}`);
  }
  
  const data = await response.json();
  return normalizeProjectsResponse(data, params);
  
} catch (error) {
  console.error('Error fetching projects from:', url, error);
  
  // Retry –±–µ–∑ trailing slash –≤ dev —Ä–µ–∂–∏–º–µ
  if (error instanceof TypeError && import.meta.env.DEV && url.includes('/projects/')) {
    const urlWithoutSlash = url.replace('/projects/', '/projects');
    try {
      const retryResponse = await fetch(urlWithoutSlash, { ... });
      if (retryResponse.ok) {
        return normalizeProjectsResponse(await retryResponse.json(), params);
      }
    } catch (retryError) {
      console.error('Retry also failed:', retryError);
    }
  }
  
  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç –≤–º–µ—Å—Ç–æ –æ—à–∏–±–∫–∏
  return createFallbackProjectsResponse(params);
}
```

### Fallback –æ—Ç–≤–µ—Ç

```typescript
function createFallbackProjectsResponse(params?: ProjectsQueryParams): ProjectsResponse {
  return {
    projects: [],
    total: 0,
    page: params?.page ?? 1,
    limit: params?.limit ?? DEFAULT_PROJECTS_LIMIT,
  };
}
```

---

## üé® –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç ProjectsPage

**–§–∞–π–ª:** `src/pages/ProjectsPage.tsx`

#### –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```typescript
const [projects, setProjects] = useState<Project[]>([]);
const [loading, setLoading] = useState(true);
const [error, setError] = useState<string | null>(null);
const [searchQuery, setSearchQuery] = useState('');
const [selectedTechnology, setSelectedTechnology] = useState<string>('');
```

#### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

```typescript
const filteredProjects = useMemo(() => {
  return projects.filter((project) => {
    const matchesSearch = !searchQuery || 
      project.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
      project.description.toLowerCase().includes(searchQuery.toLowerCase());
    
    const matchesTechnology = !selectedTechnology || 
      project.technologies.includes(selectedTechnology);
    
    return matchesSearch && matchesTechnology;
  });
}, [projects, searchQuery, selectedTechnology]);
```

#### Grid-–ø–∞–Ω–µ–ª—å

```tsx
<div className="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
  {filteredProjects.map((project) => (
    <ProjectCard key={project.id} project={project} />
  ))}
</div>
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç ProjectCard

**–§–∞–π–ª:** `src/components/ProjectCard.tsx`

–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:
- –ü—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
- –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ (–ø–µ—Ä–≤—ã–µ 4 + —Å—á–µ—Ç—á–∏–∫)
- –û—Ç–∑—ã–≤ –∫–ª–∏–µ–Ω—Ç–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –°—Å—ã–ª–∫–∏: "–ü–æ–¥—Ä–æ–±–Ω–µ–µ" –∏ "–î–µ–º–æ"

---

## üîç –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

### Project

```typescript
interface Project {
  id: string;
  title: string;
  description: string;
  shortDescription?: string;
  previewImage: string;
  images?: string[];
  technologies: string[];
  demoUrl?: string;
  clientReview?: {
    name: string;
    text: string;
    rating: number;
  };
}
```

### ProjectsResponse

```typescript
interface ProjectsResponse {
  projects: Project[];
  total: number;
  page: number;
  limit: number;
}
```

### ProjectsQueryParams

```typescript
interface ProjectsQueryParams {
  page?: number;
  limit?: number;
  technology?: string;
  search?: string;
}
```

---

## üöÄ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. Debounce –¥–ª—è –ø–æ–∏—Å–∫–∞

```typescript
useEffect(() => {
  const timeoutId = setTimeout(() => {
    void loadProjects();
  }, 300); // –ó–∞–¥–µ—Ä–∂–∫–∞ 300ms
  
  return () => clearTimeout(timeoutId);
}, [loadProjects]);
```

### 2. –ú–µ–º–æ–∏–∑–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

```typescript
const filteredProjects = useMemo(() => {
  return projects.filter(...);
}, [projects, searchQuery, selectedTechnology]);
```

### 3. Lazy loading –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

```tsx
<img
  src={project.previewImage}
  alt={project.title}
  loading="lazy"  // ‚Üê Lazy loading
/>
```

### 4. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤

–í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
- React Query –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- Service Worker –¥–ª—è offline —Ä–∞–±–æ—Ç—ã
- LocalStorage –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

```typescript
const response = await getProjects();
console.log(response.projects); // Project[]
console.log(response.total);    // number
```

### –° —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

```typescript
const response = await getProjects({
  technology: 'React',
  search: 'e-commerce',
  limit: 20,
  page: 1,
});
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

```typescript
const project = await getProject('project-id-123');
if (project) {
  console.log(project.title);
} else {
  console.log('–ü—Ä–æ–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω');
}
```

---

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: CORS –æ—à–∏–±–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
- –í dev —Ä–µ–∂–∏–º–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–∫—Å–∏ (`/api`)
- –í production –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ CORS –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ URL —Å–æ–¥–µ—Ä–∂–∏—Ç trailing slash

### –ü—Ä–æ–±–ª–µ–º–∞: –î–∞–Ω–Ω—ã–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
2. Network tab - —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞ API
3. –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –æ–¥–Ω–æ–º—É –∏–∑ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö)
4. –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ (`Error fetching projects from: ...`)

### –ü—Ä–æ–±–ª–µ–º–∞: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `resolveAssetUrl()` - –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —Ä–∞–∑—Ä–µ—à–∞—é—Ç—Å—è –ø—É—Ç–∏
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `API_BASE_URL` –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –æ—Ç–¥–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ CORS –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `src/services/api.ts` - API —Å–µ—Ä–≤–∏—Å –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
- `src/pages/ProjectsPage.tsx` - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ–µ–∫—Ç–æ–≤
- `src/components/ProjectCard.tsx` - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
- `src/types/index.ts` - TypeScript —Ç–∏–ø—ã
- `vite.config.ts` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–∫—Å–∏

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2024



